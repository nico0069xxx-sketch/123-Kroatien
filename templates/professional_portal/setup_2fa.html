{% extends 'include/base.html' %}
{% load static %}
{% block title %}2FA einrichten{% endblock %}
{% block body %}
<style>
.setup-container { max-width: 500px; margin: 40px auto; padding: 20px; }
.setup-card { background: white; border-radius: 12px; padding: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); text-align: center; }
.setup-card h2 { color: #1e3a5f; margin-bottom: 20px; }
.qr-code { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
.qr-code img { max-width: 200px; }
.form-group { margin: 20px 0; text-align: left; }
.form-group label { display: block; margin-bottom: 8px; font-weight: 500; }
.form-group input { width: 100%; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1.2rem; text-align: center; letter-spacing: 5px; }
.btn-verify { background: #1e3a5f; color: white; padding: 14px 30px; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; width: 100%; }
.btn-back { color: #666; text-decoration: none; display: block; margin-top: 15px; }
</style>
<div class="setup-container">
<div class="setup-card">
<h2><i class="fa fa-qrcode"></i> Authenticator einrichten</h2>
<p>Scannen Sie den QR-Code mit Ihrer Authenticator App:</p>
<div class="qr-code">
{% if qr_code %}
<img src="data:image/png;base64,{{ qr_code }}" alt="QR Code">
{% else %}
<p>QR-Code wird generiert...</p>
{% endif %}
</div>
<form method="post">
{% csrf_token %}
<div class="form-group">
<label>Code aus der App eingeben:</label>
<input type="text" name="otp_code" maxlength="6" placeholder="000000" required>
</div>
<button type="submit" class="btn-verify">Verifizieren</button>
</form>
<a href="{% url 'professional_portal:2fa_auswahl' %}" class="btn-back">‚Üê Andere Methode waehlen</a>
</div>
</div>
{% endblock body %}

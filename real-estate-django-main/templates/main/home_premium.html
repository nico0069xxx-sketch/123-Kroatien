{% extends 'include/base.html' %}
{% load static %}
{% load i18n %}
{% block body %}

<!-- PREMIUM HERO SECTION -->
<section class="premium-hero">
    <video class="premium-hero__media" autoplay muted loop playsinline poster="{% static 'images/1.png' %}">
        <source src="{% static 'images/kroatien.mp4' %}" type="video/mp4">
    </video>
    <div class="premium-hero__overlay"></div>
    
    <div class="premium-hero__content">
        <div class="container">
            <p class="premium-hero__tagline">Kroatien · Adria · Mittelmeer</p>
            <h1 class="premium-hero__title">Exklusive Immobilien<br>an der kroatischen Küste</h1>
            <p class="premium-hero__subtitle">Verifizierte Makler, persönliche Beratung und ein Portfolio ausgewählter Objekte für anspruchsvolle Käufer.</p>
        </div>
    </div>
    
    <div class="premium-hero__scroll-indicator">
        <span>Entdecken</span>
        <div class="premium-hero__scroll-line"></div>
    </div>
</section>

<!-- PREMIUM SEARCH -->
<section class="premium-search">
    <div class="container">
        <form class="premium-search__inner" action="{% url 'main:listing' %}" method="GET">
            <div class="premium-search__row">
                <div class="premium-search__field">
                    <label class="premium-search__label">Objektart</label>
                    <select name="property_type" class="premium-search__select">
                        <option value="">Alle Objektarten</option>
                        <option value="House">Haus</option>
                        <option value="Appartment">Wohnung</option>
                        <option value="New Building">Neubau</option>
                        <option value="Property">Grundstück</option>
                    </select>
                </div>
                <div class="premium-search__field">
                    <label class="premium-search__label">Angebot</label>
                    <select name="property_status" class="premium-search__select" id="premium_property_status">
                        <option value="">Kaufen & Mieten</option>
                        <option value="Sale">Kaufen</option>
                        <option value="Rent">Mieten</option>
                    </select>
                </div>
                <div class="premium-search__field">
                    <label class="premium-search__label">Region</label>
                    <select name="location" class="premium-search__select">
                        <option value="">Alle Regionen</option>
                        <option value="Istrien">Istrien</option>
                        <option value="Primorje">Kvarner</option>
                        <option value="Zadar">Zadar</option>
                        <option value="Split-Dalmatien">Split-Dalmatien</option>
                        <option value="Dubrovnik-Neretva">Dubrovnik</option>
                    </select>
                </div>
                <div class="premium-search__field">
                    <label class="premium-search__label">Preis bis</label>
                    <select name="price_to" class="premium-search__select">
                        <option value="">Keine Grenze</option>
                        <option value="300000">300.000 €</option>
                        <option value="500000">500.000 €</option>
                        <option value="750000">750.000 €</option>
                        <option value="1000000">1.000.000 €</option>
                        <option value="2000000">2.000.000 €</option>
                        <option value="5000000">5.000.000 €+</option>
                    </select>
                </div>
                <div class="premium-search__field">
                    <label class="premium-search__label">&nbsp;</label>
                    <button type="submit" class="premium-search__btn">Suchen</button>
                </div>
            </div>
        </form>
    </div>
</section>

<!-- PREMIUM SERVICES -->
<section class="premium-section">
    <div class="container">
        <header class="premium-section__header reveal">
            <p class="premium-section__overline">Unser Service</p>
            <h2 class="premium-section__title">Professionelle Begleitung in jeder Phase</h2>
        </header>
        
        <div class="premium-services">
            <article class="premium-service-card reveal">
                <div class="premium-service-card__number">01</div>
                <h3 class="premium-service-card__title">Verifizierte Partner</h3>
                <p class="premium-service-card__text">Wir arbeiten ausschließlich mit geprüften, deutschsprachigen Immobilienmaklern und Bauunternehmen zusammen.</p>
            </article>
            
            <article class="premium-service-card reveal">
                <div class="premium-service-card__number">02</div>
                <h3 class="premium-service-card__title">Persönliche Beratung</h3>
                <p class="premium-service-card__text">Individuelle Betreuung vor Ort durch erfahrene Experten, die den kroatischen Markt kennen.</p>
            </article>
            
            <article class="premium-service-card reveal">
                <div class="premium-service-card__number">03</div>
                <h3 class="premium-service-card__title">Verkauf & Vermietung</h3>
                <p class="premium-service-card__text">Professionelle Vermarktung Ihrer Immobilie mit transparenter Wertermittlung und internationaler Reichweite.</p>
            </article>
        </div>
    </div>
</section>

<!-- PREMIUM FEATURED PROPERTIES -->
<section class="premium-section premium-section--alt">
    <div class="container">
        <header class="premium-section__header reveal">
            <p class="premium-section__overline">Ausgewählte Objekte</p>
            <h2 class="premium-section__title">Aktuelle Angebote</h2>
        </header>
        
        <div class="premium-properties">
            {% for listing in latest_8_listings %}
            <article class="premium-property-card reveal">
                <a href="{% url 'main:property_details' listing.id %}">
                    <div class="premium-property-card__image">
                        <img src="{% if listing.photo_main %}{{ listing.photo_main.url }}{% else %}{% static 'images/news1.png' %}{% endif %}" 
                             alt="{{ listing.json_content.property_title }}" 
                             loading="lazy">
                        <span class="premium-property-card__badge">{{ listing.json_content.property_status }}</span>
                    </div>
                </a>
                <div class="premium-property-card__body">
                    <p class="premium-property-card__location">{{ listing.json_content.address }}</p>
                    <h3 class="premium-property-card__title">
                        <a href="{% url 'main:property_details' listing.id %}">{{ listing.json_content.property_title|truncatechars:55 }}</a>
                    </h3>
                    <div class="premium-property-card__meta">
                        {% if listing.json_content.bedrooms %}
                        <div class="premium-property-card__meta-item">
                            <span>Zimmer</span>
                            {{ listing.json_content.bedrooms }}
                        </div>
                        {% endif %}
                        {% if listing.json_content.bathrooms %}
                        <div class="premium-property-card__meta-item">
                            <span>Bäder</span>
                            {{ listing.json_content.bathrooms|floatformat:0 }}
                        </div>
                        {% endif %}
                        {% if listing.json_content.area %}
                        <div class="premium-property-card__meta-item">
                            <span>Fläche</span>
                            {{ listing.json_content.area }} m²
                        </div>
                        {% endif %}
                    </div>
                    <div class="premium-property-card__footer">
                        <div class="premium-property-card__price">€ {{ listing.json_content.property_price }}</div>
                        {% if listing.realtor %}
                        <div class="premium-property-card__agent">
                            <img src="{% if listing.realtor.profile_image %}{{ listing.realtor.profile_image.url }}{% else %}{% static 'images/p2.png' %}{% endif %}" 
                                 alt="{{ listing.realtor.first_name }}">
                            <span class="premium-property-card__agent-name">{{ listing.realtor.first_name }} {{ listing.realtor.last_name }}</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
</section>

<!-- PREMIUM ABOUT -->
<section class="premium-section">
    <div class="container">
        <div class="premium-about">
            <div class="premium-about__content reveal">
                <p class="premium-about__overline">Über uns</p>
                <h2 class="premium-about__title">Ihr Partner für Immobilien in Kroatien</h2>
                <p class="premium-about__text">Bei 123-Kroatien.eu arbeiten wir ausschließlich mit verifizierten Immobilienmaklern und Bauunternehmen zusammen, die deutschsprachig oder mehrsprachig agieren.</p>
                <p class="premium-about__text">Dies gewährleistet eine reibungslose Kommunikation und ein tiefes Verständnis für Ihre Bedürfnisse — besonders, wenn es um Ihr Haus am Meer geht.</p>
                <a href="{% url 'main:about' %}" class="premium-about__link">
                    Mehr erfahren
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
            </div>
            <div class="premium-about__images reveal">
                <div class="premium-about__image">
                    <img src="{% static 'images/home-image-small.jpg' %}" alt="Kroatien Küste" loading="lazy">
                </div>
                <div class="premium-about__image">
                    <img src="{% static 'images/home-image-smal2.jpg' %}" alt="Villa Kroatien" loading="lazy">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- PREMIUM CTA -->
<section class="premium-cta">
    <div class="container">
        <div class="premium-cta__inner">
            <h2 class="premium-cta__title">Bereit für Ihre Immobilie in Kroatien?</h2>
            <a href="{% url 'main:contact' %}" class="premium-cta__btn">Kontakt aufnehmen</a>
        </div>
    </div>
</section>

<!-- PREMIUM PARTNERS -->
<section class="premium-section">
    <div class="container">
        <header class="premium-section__header reveal">
            <p class="premium-section__overline">Netzwerk</p>
            <h2 class="premium-section__title">Unsere Partner</h2>
        </header>
        <div class="premium-partners reveal">
            <img src="{% static 'images/anlage-logo-domus.png' %}" alt="Domus" loading="lazy">
            <img src="{% static 'images/anlage-logo-hausbau-kroatien.png' %}" alt="Hausbau Kroatien" loading="lazy">
        </div>
    </div>
</section>

<!-- LOGO FOOTER -->
<div class="container">
    <div class="row">
        <div class="col-12 text-center py-4">
            <img src="{% static 'images/logo-black2.png' %}" alt="123-Kroatien.eu" style="width: 220px; opacity: 0.7;">
        </div>
    </div>
</div>

{% endblock body %}

{% block js %}
<script>
// Scroll Reveal Animation
document.addEventListener('DOMContentLoaded', function() {
    const reveals = document.querySelectorAll('.reveal');
    
    function revealOnScroll() {
        reveals.forEach(function(element) {
            const windowHeight = window.innerHeight;
            const elementTop = element.getBoundingClientRect().top;
            const revealPoint = 120;
            
            if (elementTop < windowHeight - revealPoint) {
                element.classList.add('active');
            }
        });
    }
    
    // Initial check
    revealOnScroll();
    
    // Throttled scroll listener
    let ticking = false;
    window.addEventListener('scroll', function() {
        if (!ticking) {
            window.requestAnimationFrame(function() {
                revealOnScroll();
                ticking = false;
            });
            ticking = true;
        }
    });
});
</script>
{% endblock js %}
